<html> 
	<head> 
		<link rel="stylesheet" type="text/css" href="css/index.css" media="screen">
		<link rel="stylesheet" type="text/css" href="css/calculator.css" media="screen">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
		<title> </title> 
		<script>
window.onload = function(){
var Calculator = function() {
    this.total = 0;
    this.current = 0;
    this.operation = null;
    this.fractionExp = 0;
};

Calculator.prototype = {
    add: function() {
        this.calculate();
        this.operation = function(a, b) {
            return a + b;
        };
        this.setCurrent(0, "");
        this.fractionExp = 0; 
    },
    subtract: function() {
        this.calculate();
        this.operation = function(a, b) {
            return a - b;
        };
        this.setCurrent(0, "");
        this.fractionExp = 0; 
    },
    multiply: function() {
        this.calculate();
        this.operation = function(a, b) {
            return a * b;
        };
        this.setCurrent(0, "");
        this.fractionExp = 0; 
    },
    divide: function() {
        this.calculate();
        this.operation = function(a, b) {
            return a / b;
        };
        this.setCurrent(0, "");
        this.fractionExp = 0; 
    },
    clear: function() {
        this.setCurrent(0, "");
        this.fractionExp = 0; 
    },
    allClear: function() {
        this.clear();
        this.total = 0;
        this.operation = null;
        console.log("total: " + this.total);
        this.fractionExp = 0; 
    },
    calculate: function() {
        if (this.operation) {
            this.total = this.operation(this.total, this.current);
        } else {
            this.total = this.current;
        }
       console.log("total: " + this.total);
    },
    equals: function() {
        this.calculate();
        this.updateDisplay(this.total);
    },
    digit: function(number) {
        
        if (this.fractionExp) {
            
            this.setCurrent(this.current + (number / Math.pow(10, this.fractionExp)));
            this.fractionExp = this.fractionExp + 1
        } else {            
            this.setCurrent((this.current * 10) + number);
        };
    
    },
    point: function() {
        this.fractionExp = 1;
    },
    setCurrent: function(value, text) {
        this.current = value;
        this.updateDisplay(typeof text == "undefined" ? this.current : text);
        console.log("current: " + this.current);
    },
    updateDisplay: function(value) {
    	var displayValue= value;
        document.getElementsByClassName("screen")[0].value = value;
    }
};	

var calc = new Calculator();
var spans = document.querySelectorAll("span");

for(var s=0; s<spans.length; s++){
    spans[s].onclick  = function() {
    var raw = this.innerText;
    number = parseInt(raw, 10);
    if (isNaN(number)) {
      
        switch (raw) {
        case "C":
            calc.allClear();
            break;
        case "DEL":
            calc.clear();
            break;
        case "X":
            calc.multiply();
            break;
        case "/":
            calc.divide();
            break;
        case "+":
            calc.add();
            break;
        case "-":
            calc.subtract();
            break;
        case "=":
            calc.equals();
            break;
        case ".":
            calc.point();
            break;
        }
    } else {

        calc.digit(number);
    }
};	
};
}
</script>

	
	</head> 
	
	<body>		
			<div class="header">
				<h1>Tom Narainpursat</h1>
				<h4>
					Modern Front End Developer
					</br>
					<span class='quote'>"Where ever you go that's where you are"</span>
				</h4>
			</div>
		
		<div class ='space'>	
			<div class='nav'>
					<h3>Menu</h3>
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="Button.html">Button</a></li>
						<li><a href="SideBar.html">Profile Card</a></li>
						<li><a href="Signup.html">Signup</a></li>
						<li><a href="Search.html">Search</a></li>
						<li><a href="Questionairre.html">Questionaire</a></li>
						<li><a href="Login.html">Login</a></li>
						<li><a href="Colours.html">Colour Builder</a></li>
						<li><a href="ShippingBilling.html">Shipping & Billing</a></li>
						<li><a href="CreditDebitCard.html">Payment Info</a></li>
						<li><a href="Calculator.html">Calculator</a></li>
						<li><a href="ProductListing.html">Products</a></li>
					</ul>
					
			</div>
			<div id='content'>
						<div class='container'>
							<div class="row">
							 	<span><input type="text" class="screen"></span>
							</div>
							<div class="row">
							 <span class="key clear_key">C</span>
							 <span class="key clear_key">DEL</span>
							</div>
							<div class="row">
							 <span class="key">7</span>
							 <span class="key">8</span>
							 <span class="key">9</span>
							 <span class="key">+</span>
							</div>
							<div class="row">
							 <span class="key">4</span>
							 <span class="key">5</span>
							 <span class="key">6</span>
							 <span class="key">-</span>
							</div>
							<div class="row">
							 <span class="key">1</span>
							 <span class="key">2</span>
							 <span class="key">3</span>
							 <span class="key">/</span>
							</div>
							<div class="row">
							 <span class="key">0</span>
							 <span class="key">.</span>
							 <span class="key">=</span>
							 <span class="key">X</span>
							</div>
					</div>
		</div>
	
	</body>
</html> 